<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cancha Gonsa</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <!-- NAVBAR MODERNO Y RESPONSIVE -->
  <nav class="navbar">
    <div class="navbar-brand" style="display:flex;align-items:center;gap:0.7em;">
      <span class="navbar-logo">‚öΩ</span>
      <span class="navbar-title">Cancha Gonsa</span>
      <div id="selectorAnioContainer" style="margin-left:1.5em;"></div>
    </div>
    <button class="navbar-toggle" id="navbarToggle" aria-label="Abrir men√∫">
      <span></span><span></span><span></span>
    </button>
    <ul class="navbar-links" id="navbarLinks">
      <li><a href="#tab-general" class="tab-btn active" data-tab="general">Tabla General</a></li>
      <li><a href="#tab-goleadores" class="tab-btn" data-tab="goleadores">Goleadores</a></li>
      <li><a href="#tab-asistencias" class="tab-btn" data-tab="asistencias">Presencias</a></li>
      <li><a href="#tab-historial" class="tab-btn" data-tab="historial">Historial</a></li>
      <li><a href="#tab-comparador" class="tab-btn" data-tab="comparador">Comparador</a></li>
      <li><a href="#tab-dashboard-jugador" class="tab-btn" data-tab="dashboard-jugador">Desempe√±o</a></li>
  <li><a href="#tab-records" class="tab-btn" data-tab="records">R√©cords</a></li>
    </ul>
  </nav>



  <section class="tabla tab-content" id="tab-general" style="display:block;">
    <h1 style="text-align:center;font-size:2.2em;color:var(--color-primario,#ffd700);margin-top:0.5em;margin-bottom:1.2em;">Tabla General</h1>
    <div id="tablaPuntosTotales"></div>
  </section>

  <section class="tabla tab-content" id="tab-goleadores" style="display:none;">
    <h1 style="text-align:center;font-size:2.2em;color:var(--color-primario,#ffd700);margin-top:0.5em;margin-bottom:1.2em;">Tabla de Goleadores</h1>
    <div id="tablaGoleadores"></div>
  </section>

  <section class="tabla tab-content" id="tab-asistencias" style="display:none;">
    <h1 style="text-align:center;font-size:2.2em;color:var(--color-primario,#ffd700);margin-top:0.5em;margin-bottom:1.2em;">Tribunal de Asistencias</h1>
    <div id="tablaTribunalAsistencias"></div>
  </section>

  <section class="tabla tab-content" id="tab-historial" style="display:none;">
    <h1 class="titulo-pestana">Historial</h1>
    <!-- Submen√∫ interno: Historial de Partidos / Calendario -->
    <div id="historialTabs" style="display:flex;justify-content:center;gap:1.2em;margin:0 0 1.4em 0;flex-wrap:wrap;">
      <button id="historialTabPartidosBtn" class="historial-tab-btn active">Historial de Partidos</button>
      <button id="historialTabCalendarioBtn" class="historial-tab-btn">Calendario</button>
    </div>
    <!-- Contenido: Historial de Partidos (con selector de fecha dentro) -->
    <div id="historialTabPartidos" style="display:block;">
      <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;">
        <!-- El selector de fechas se inyectar√° din√°micamente dentro de la tarjeta del partido -->
        <div id="detallePartido"></div>
      </div>
    </div>
    <!-- Contenido: Calendario -->
    <div id="historialTabCalendario" style="display:none;">
      <div id="historialCalendarioNav" class="historial-cal-nav" style="max-width:980px;margin:0.5em auto 0.8em auto;display:flex;justify-content:center;gap:1em;align-items:center;flex-wrap:wrap;"></div>
      <div id="historialCalendarioContainer" style="max-width:980px;margin:0 auto 1.6em auto;display:block;"></div>
      <div style="text-align:center;color:#b0b0b0;font-size:0.95em;margin-top:0.6em;">Click en un d√≠a para ver el detalle del partido.</div>
    </div>
  </section>

  <section class="tabla tab-content" id="tab-records" style="display:none;">
    <h1 style="text-align:center;font-size:2.2em;color:var(--color-primario,#ffd700);margin-top:0.5em;margin-bottom:1.2em;">R√©cords</h1>
    <!-- Submen√∫ interno: R√©cords Hist√≥ricos / R√©cords por temporada -->
    <div id="recordsTabs" style="display:flex;justify-content:center;gap:1.2em;margin:0 0 1.4em 0;flex-wrap:wrap;">
      <button id="recordsTabHistoricosBtn" class="records-tab-btn active">R√©cords Hist√≥ricos</button>
      <button id="recordsTabTemporadaBtn" class="records-tab-btn">R√©cords por temporada</button>
      <button id="recordsTabRachasBtn" class="records-tab-btn">Rachas</button>
    </div>
    <div id="recordsContent">
      <!-- Contenedor legacy utilizado por la funci√≥n existente renderRecords (se mantiene oculto) -->
      <div id="recordsContainer" style="display:none;max-width:980px;margin:0 auto;padding:1em;text-align:center;color:#b0b0b0;"></div>
      <div id="recordsHistoricos" style="display:block;max-width:980px;margin:0 auto;padding:1em;text-align:center;color:#b0b0b0;"></div>
      <div id="recordsPorTemporada" style="display:none;max-width:980px;margin:0 auto;padding:1em;text-align:center;color:#b0b0b0;">
        <div id="recordsTemporadaContainer"></div>
      </div>
      <div id="recordsRachas" style="display:none;max-width:980px;margin:0 auto;padding:1em;text-align:center;color:#b0b0b0;">
        <div id="recordsRachasContainer"></div>
      </div>
    </div>
  </section>

  <section class="tabla tab-content" id="tab-comparador" style="display:none;">
    <h1 class="titulo-comparador">Comparador de Jugadores</h1>
    <!-- Tabs primero -->
    <div id="comparadorTabs" style="display:flex;justify-content:center;gap:1.2em;margin:0 0 1.8em 0;flex-wrap:wrap;">
      <button id="comparadorTabHistorialBtn" class="comparador-tab-btn active">Historial Directo</button>
      <button id="comparadorTabExtraBtn" class="comparador-tab-btn">Serie Temporal</button>
  <button id="comparadorTabCorrelacionBtn" class="comparador-tab-btn">Correlaci√≥n</button>
  <button id="comparadorTabSinergiasBtn" class="comparador-tab-btn">Cara a Cara</button>
    </div>
    <!-- NUEVO ORDEN: 1) Filtro partidos m√≠nimos -->
    <div id="comparadorFiltroPartidosWrapper" style="display:flex;justify-content:center;align-items:center;gap:0.6em;margin:0 0 1.4em 0;flex-wrap:wrap;">
      <label for="comparadorPartidosMinimos" style="font-size:1.05em;font-weight:600;">Partidos m√≠nimos individual:</label>
      <input type="number" id="comparadorPartidosMinimos" min="0" value="5" style="width:80px;height:2.2em;font-size:1.05em;text-align:center;border:1.5px solid #ffd700;background:#23263a;color:#ffd700;border-radius:6px;">
    </div>
    <!-- 2) Selects jugadores + bot√≥n azar -->
  <div id="comparadorControlesPrincipales" class="comparador-controles" style="display:flex;justify-content:center;gap:2em;align-items:flex-end;flex-wrap:wrap;margin:0 0 1.8em 0;">
      <div>
        <label for="comparadorJugador1">Jugador 1:</label>
        <select id="comparadorJugador1"></select>
      </div>
      <div>
        <label for="comparadorJugador2">Jugador 2:</label>
        <select id="comparadorJugador2"></select>
      </div>
      <div style="display:flex;align-items:end;">
        <button id="comparadorRandomBtn" type="button" style="margin-left:1.2em;padding:0.5em 1.2em;font-size:1.08em;font-weight:600;background:linear-gradient(90deg,#ffd700 0%,#ffe066 100%);color:#23263a;border:none;border-radius:8px;box-shadow:0 2px 12px #ffd70033;cursor:pointer;transition:background 0.18s,box-shadow 0.18s;">üé≤ Al azar</button>
      </div>
    </div>
    <!-- Contenido Tab: Historial Directo -->
    <div id="comparadorTabHistorial" style="display:block;">
      <div id="comparadorEstadisticas"></div>
    </div>
  <!-- Contenido Tab: Serie Temporal -->
    <div id="comparadorTabExtra" style="display:none;">
      <div id="comparadorSerieTemporalControles" style="display:flex;justify-content:center;align-items:center;gap:1em;flex-wrap:wrap;margin:0 0 1.5em 0;">
        <label for="comparadorSerieMetric" style="font-weight:600;">M√©trica:</label>
        <select id="comparadorSerieMetric" style="padding:0.35em 0.8em;font-size:1em;border-radius:6px;border:1.5px solid #ffd700;background:#23263a;color:#ffd700;font-weight:600;min-width:110px;text-align:center;">
          <option value="goles" selected>Goles</option>
          <option value="puntos">Puntos</option>
        </select>
        <button id="comparadorSerieJugadoresBtn" type="button" style="padding:0.45em 0.9em;font-size:0.95em;font-weight:600;background:#23263a;color:#ffd700;border:1.5px solid #ffd700;border-radius:8px;cursor:pointer;display:flex;align-items:center;gap:0.5em;">Jugadores <span id="comparadorSerieJugadoresCount" style="background:#ffd700;color:#23263a;padding:0 0.45em;border-radius:6px;font-size:0.85em;">0</span> ‚ñº</button>
        <div id="comparadorSerieJugadoresPanel" class="comparador-multiselect-panel" style="display:none;">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.4em;gap:0.6em;">
            <span style="font-size:0.8em;color:#b0b0b0;">Click para (des)seleccionar</span>
            <div style="display:flex;gap:0.4em;">
              <button id="comparadorSerieJugadoresSelectAll" type="button" style="background:#218c5f;color:#fff;border:none;border-radius:6px;padding:0.25em 0.6em;font-size:0.7em;cursor:pointer;">Seleccionar todo</button>
              <button id="comparadorSerieJugadoresClear" type="button" style="background:#a8231a;color:#fff;border:none;border-radius:6px;padding:0.25em 0.6em;font-size:0.7em;cursor:pointer;">Limpiar</button>
            </div>
          </div>
          <select id="comparadorSerieJugadoresMulti" multiple size="8" style="width:100%;padding:0.4em 0.5em;border:1.5px solid #ffd70033;border-radius:6px;background:#1e2232;color:#ffd700;font-weight:600;overflow:auto;"></select>
          <div style="text-align:right;margin-top:0.5em;">
            <button id="comparadorSerieJugadoresCerrar" type="button" style="background:#ffd700;color:#23263a;border:none;border-radius:6px;padding:0.3em 0.9em;font-weight:600;cursor:pointer;">Cerrar</button>
          </div>
        </div>
      </div>
      <div style="max-width:1300px;margin:0 auto;">
        <canvas id="comparadorSerieTemporalCanvas" height="220"></canvas>
      </div>
      <div id="comparadorSerieTemporalInfo" style="text-align:center;margin-top:0.8em;font-size:0.95em;color:#b0b0b0;">
        Evoluci√≥n acumulada. Si un jugador no participa en una fecha su curva permanece plana.
      </div>
    </div>
    <!-- Contenido Tab: Correlaci√≥n -->
  <div id="comparadorTabCorrelacion" style="display:none;">
      <div id="correlacion-controls" style="margin-bottom: 16px; display: flex; justify-content: center; align-items: center; gap: 1.5em; flex-wrap:wrap;">
        <label for="ejeX" style="margin-bottom:0;">Eje X:</label>
        <select id="ejeX" style="padding:0.3em 0.7em;font-size:1em;border-radius:6px;border:1.5px solid #1976d2;background:#23263a;color:#1976d2;font-weight:600;min-width:110px;text-align:center;">
          <option value="partidos_jugados">Partidos jugados</option>
          <option value="puntos_totales">Puntos</option>
          <option value="goles_totales">Goles totales</option>
          <option value="victorias">Victorias</option>
          <option value="derrotas">Derrotas</option>
          <option value="goles_por_partido">Goles por partido</option>
          <option value="puntos_por_partido">Puntos por partido</option>
          <option value="diferencia_gol">Diferencia de gol</option>
        </select>
        <label for="ejeY" style="margin-bottom:0;">Eje Y:</label>
        <select id="ejeY" style="padding:0.3em 0.7em;font-size:1em;border-radius:6px;border:1.5px solid #1976d2;background:#23263a;color:#1976d2;font-weight:600;min-width:110px;text-align:center;">
          <option value="partidos_jugados">Partidos jugados</option>
          <option value="puntos_totales">Puntos</option>
          <option value="goles_totales">Goles totales</option>
          <option value="victorias">Victorias</option>
          <option value="derrotas">Derrotas</option>
          <option value="goles_por_partido">Goles por partido</option>
          <option value="puntos_por_partido">Puntos por partido</option>
          <option value="diferencia_gol">Diferencia de gol</option>
        </select>
      </div>
      <div id="grafico-desempeno" style="width:100%;max-width:820px;margin:30px auto;"></div>
    </div>
    <!-- Contenido Tab: Sinergias -->
    <div id="comparadorTabSinergias" style="display:none;">
  <div id="sinergiasControles" style="display:flex;justify-content:center;align-items:center;gap:1em;flex-wrap:wrap;margin:0 0 1.2em 0;">
        <label for="sinModo" style="font-weight:600;">Modo:</label>
        <select id="sinModo" style="padding:0.35em 0.8em;font-size:1em;border-radius:6px;border:1.5px solid #ffd700;background:#23263a;color:#ffd700;font-weight:600;min-width:110px;text-align:center;">
          <option value="juntos" selected>Juntos</option>
          <option value="vs">Enfrentados</option>
        </select>
        <label for="sinMetrica" style="font-weight:600;">M√©trica:</label>
        <select id="sinMetrica" style="padding:0.35em 0.8em;font-size:1em;border-radius:6px;border:1.5px solid #ffd700;background:#23263a;color:#ffd700;font-weight:600;min-width:140px;text-align:center;">
          <option value="wr" selected>Win rate</option>
          <option value="gd">Dif. de gol (medio)</option>
          <option value="gdt">Dif. de gol (total)</option>
          <option value="pj">Partidos</option>
        </select>
        
  <button id="sinJugadoresBtn" type="button" style="padding:0.45em 0.9em;font-size:0.95em;font-weight:600;background:#23263a;color:#ffd700;border:1.5px solid #ffd700;border-radius:8px;cursor:pointer;display:flex;align-items:center;gap:0.5em;">Jugadores <span id="sinJugadoresCount" style="background:#ffd700;color:#23263a;padding:0 0.45em;border-radius:6px;font-size:0.85em;">0</span> ‚ñº</button>
  <label for="sinMinPartidosDupla" style="font-weight:600;">Partidos m√≠nimos dupla:</label>
  <input type="number" id="sinMinPartidosDupla" min="0" value="2" style="width:80px;height:2.2em;font-size:0.95em;text-align:center;border:1.5px solid #ffd700;background:#23263a;color:#ffd700;border-radius:6px;" title="Filtra celdas cuya dupla tenga menos partidos en conjunto/enfrentados seg√∫n el modo.">
        <div id="sinJugadoresPanel" class="comparador-multiselect-panel" style="display:none;">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.4em;gap:0.6em;">
            <span style="font-size:0.8em;color:#b0b0b0;">Click para (des)seleccionar</span>
            <div style="display:flex;gap:0.4em;">
              <button id="sinJugadoresSelectAll" type="button" style="background:#218c5f;color:#fff;border:none;border-radius:6px;padding:0.25em 0.6em;font-size:0.7em;cursor:pointer;">Seleccionar todo</button>
              <button id="sinJugadoresClear" type="button" style="background:#a8231a;color:#fff;border:none;border-radius:6px;padding:0.25em 0.6em;font-size:0.7em;cursor:pointer;">Limpiar</button>
            </div>
          </div>
          <select id="sinJugadoresMulti" multiple size="10" style="width:100%;padding:0.4em 0.5em;border:1.5px solid #ffd70033;border-radius:6px;background:#1e2232;color:#ffd700;font-weight:600;overflow:auto;"></select>
          <div style="text-align:right;margin-top:0.5em;">
            <button id="sinJugadoresCerrar" type="button" style="background:#ffd700;color:#23263a;border:none;border-radius:6px;padding:0.3em 0.9em;font-weight:600;cursor:pointer;">Cerrar</button>
          </div>
        </div>
      </div>
        <!-- Controles de Zoom -->
        <div id="sinergiasZoomControles" style="display:flex;align-items:center;gap:0.5em;background:#23263a;border:1.5px solid #ffd70055;padding:0.4em 0.6em;border-radius:10px;box-shadow:0 2px 10px #0008, 0 1px 6px #ffd70022;">
          <button id="sinZoomOutBtn" class="btn-secundario" title="Zoom out" style="padding:0.28em 0.6em;min-width:unset;">‚àí</button>
          <div id="sinZoomLabel" style="min-width:52px;text-align:center;color:#ffd700;font-weight:700;">100%</div>
          <button id="sinZoomInBtn" class="btn-secundario" title="Zoom in" style="padding:0.28em 0.6em;min-width:unset;">+</button>
          <button id="sinZoomResetBtn" class="btn-modo-tabla" title="Reset zoom" style="padding:0.28em 0.6em;min-width:unset;">Reset</button>
        </div>
      <div id="sinergiasGrid" class="sinergias-grid" style="max-width:1200px;margin:0 auto;"></div>
      <div id="sinergiasInfo" style="text-align:center;margin-top:0.6em;font-size:0.92em;color:#b0b0b0;">WR excluye empates. Pas√° el mouse por cada celda para detalles.</div>
    </div>
  </section>

  <!-- NUEVA SECCI√ìN DASHBOARD JUGADOR -->
  <section class="tabla tab-content" id="tab-dashboard-jugador" style="display:none;">

    <h1 style="text-align:center;font-size:2.2em;color:var(--color-primario,#ffd700);margin-top:0.5em;margin-bottom:1.2em;">Desempe√±o Individual</h1>
    <!-- Submen√∫ de pesta√±as internas -->
    <div id="dashboardJugadorTabs" style="display:flex;justify-content:center;gap:1.2em;margin-bottom:2em;">
      <button id="tabDashboardEstadisticasBtn" class="dashboard-tab-btn active">Estad√≠sticas</button>
      <button id="tabDashboardLogrosBtn" class="dashboard-tab-btn">Info de Logros</button>
      <button id="tabDashboardRegistroBtn" class="dashboard-tab-btn">Registro</button>
  <!-- Bot√≥n de correlaci√≥n eliminado (movido al comparador) -->
    </div>
    <!-- Contenido de pesta√±as internas -->
    <div id="dashboardJugadorTabEstadisticas" style="display:block;">
      <div class="dashboard-jugador-controles" style="display:flex;justify-content:center;gap:2em;align-items:flex-start;flex-wrap:wrap;margin-bottom:2.5em;">
        <div>
          <label for="dashboardJugadorSelect">Selecciona un jugador:</label>
          <select id="dashboardJugadorSelect"></select>
        </div>
      </div>
      <div class="dashboard-jugador-grid">
        <div class="dashboard-jugador-grafico-barras">
          <div style="display:flex;justify-content:center;gap:1em;margin-bottom:0.7em;width:100%;align-items:center;">
            <select id="dashboardBarChartTipo" style="padding:0.3em 0.7em;font-size:1em;border-radius:6px;border:1.5px solid #ffd700;background:#23263a;color:#ffd700;font-weight:600;min-width:110px;text-align:center;">
              <option value="goles">Goles</option>
              <option value="puntos">Puntos</option>
            </select>
            <select id="dashboardBarChartAgrup" style="padding:0.3em 0.7em;font-size:1em;border-radius:6px;border:1.5px solid #ffd700;background:#23263a;color:#ffd700;font-weight:600;min-width:90px;text-align:center;">
              <option value="mes">Mes</option>
              <option value="dia">D√≠a</option>
            </select>
            <select id="dashboardBarChartAnio" style="padding:0.3em 0.7em;font-size:1em;border-radius:6px;border:1.5px solid #ffd700;background:#23263a;color:#ffd700;font-weight:600;min-width:90px;text-align:center;">
              <option value="todos">Todos</option>
              <!-- Opciones de a√±o se llenar√°n din√°micamente con JS -->
            </select>
          </div>
          <div id="dashboardJugadorGraficoBarras"></div>
        </div>
        <div class="dashboard-jugador-panel-izq">
          <div class="dashboard-jugador-tarjeta" id="dashboardJugadorResumen"></div>
          <div class="dashboard-jugador-medallas" id="dashboardJugadorLogros" style="margin-bottom:-2em;"></div>
        </div>
        <div class="dashboard-jugador-grafico-torta"><div id="dashboardJugadorGraficoTorta"></div></div>
      </div>
      <div class="dashboard-jugador-tabla-anual" id="dashboardJugadorTablaAnual"></div>
      </div>
  <!-- Pesta√±a de correlaci√≥n eliminada -->
    </div>
    <div id="dashboardJugadorTabLogros" style="display:none;max-width:700px;margin:0 auto 2em auto;padding:1.5em 1.2em;background:#23263a;border-radius:16px;box-shadow:0 2px 16px #ffd70022;">
      <h2 style="color:#ffd700;text-align:center;margin-bottom:1em;font-size:1.4em;">Informaci√≥n de Logros y Niveles</h2>
      <p style="color:#cdcdcd;text-align:center;margin-bottom:2em;">Descubre los distintos tipos de logros, los niveles y los requisitos para alcanzarlos. ¬°Superate y colecciona todas las medallas!</p>
  <div id="logrosInfoTarjetasContainer" class="logros-info-tarjetas" style="display:flex;flex-direction:column;gap:2em;"></div>
      </div>
      <!-- Texto informativo de logros eliminado a pedido del usuario -->
    </div>
    <div id="dashboardJugadorTabRegistro" style="display:none;max-width:700px;margin:0 auto 2em auto;padding:1.5em 1.2em;background:#23263a;border-radius:16px;box-shadow:0 2px 16px #ffd70022;">
      <h2 style="color:#ffd700;text-align:center;margin-bottom:1em;font-size:1.4em;">Registro de Logros por Jugador</h2>
      <div style="display:flex;justify-content:center;margin-bottom:2em;">
        <label for="registroFiltroLogro" style="color:#1976d2;font-weight:600;margin-right:0.7em;margin-top:0.6em;font-size:1.08em;">Logro:</label>
        <select id="registroFiltroLogro" style="padding:0.4em 1em;font-size:1.08em;border-radius:8px;border:1.5px solid #1976d2;background:#23263a;color:#1976d2;font-weight:600;min-width:140px;text-align:center;">
          <option value="" selected>-- Selecciona una medalla --</option>
          <option value="goles">Goles Totales</option>
          <option value="partidos">Partidos Jugados</option>
          <option value="victorias">Victorias</option>
        </select>
      </div>
      <div id="registroMedallasContenedores">
        <!-- Aqu√≠ se mostrar√°n los contenedores por medalla y los jugadores -->
      </div>
    </div>
  </section>

  <script src="script.js"></script>
  <script>
    // Submen√∫ de pesta√±as internas en dashboard jugador (actualizado para incluir correlaci√≥n)
    document.addEventListener('DOMContentLoaded', function() {
      const btnEst = document.getElementById('tabDashboardEstadisticasBtn');
      const btnLog = document.getElementById('tabDashboardLogrosBtn');
      const btnReg = document.getElementById('tabDashboardRegistroBtn');
      const tabEst = document.getElementById('dashboardJugadorTabEstadisticas');
      const tabLog = document.getElementById('dashboardJugadorTabLogros');
      const tabReg = document.getElementById('dashboardJugadorTabRegistro');
      if (btnEst && btnLog && btnReg && tabEst && tabLog && tabReg) {
        btnEst.onclick = function() {
          btnEst.classList.add('active');
          btnLog.classList.remove('active');
          btnReg.classList.remove('active');
          tabEst.style.display = 'block';
          tabLog.style.display = 'none';
          tabReg.style.display = 'none';
        };
        btnLog.onclick = function() {
          btnLog.classList.add('active');
          btnEst.classList.remove('active');
          btnReg.classList.remove('active');
          tabLog.style.display = 'block';
          tabEst.style.display = 'none';
          tabReg.style.display = 'none';
        };
        btnReg.onclick = function() {
          btnReg.classList.add('active');
          btnEst.classList.remove('active');
          btnLog.classList.remove('active');
          tabReg.style.display = 'block';
          tabEst.style.display = 'none';
          tabLog.style.display = 'none';
        };
      }
    });
  </script>
  <script>
    // Submen√∫ interno del Historial: Partidos vs Calendario
    document.addEventListener('DOMContentLoaded', function() {
      const btnPart = document.getElementById('historialTabPartidosBtn');
      const btnCal = document.getElementById('historialTabCalendarioBtn');
      const tabPart = document.getElementById('historialTabPartidos');
      const tabCal = document.getElementById('historialTabCalendario');
      if (btnPart && btnCal && tabPart && tabCal) {
        btnPart.onclick = function() {
          btnPart.classList.add('active');
          btnCal.classList.remove('active');
          tabPart.style.display = 'block';
          tabCal.style.display = 'none';
        };
        btnCal.onclick = function() {
          btnCal.classList.add('active');
          btnPart.classList.remove('active');
          tabCal.style.display = 'block';
          tabPart.style.display = 'none';
        };
      }
    });
  </script>
  <script>
    // Navbar toggle para m√≥vil
    document.getElementById('navbarToggle').onclick = function() {
      document.getElementById('navbarLinks').classList.toggle('open');
      this.classList.toggle('open');
    };
    // Tabs con navbar Te imaginas?
    document.querySelectorAll('.navbar-links a.tab-btn').forEach(btn => {
      btn.onclick = function(e) {
        e.preventDefault();
        document.querySelectorAll('.tab-content').forEach(tab => tab.style.display = 'none');
        document.querySelectorAll('.navbar-links a.tab-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        const tabId = this.getAttribute('href');
        document.querySelector(tabId).style.display = 'block';
        if (tabId === '#tab-records' && typeof window.renderRecords === 'function') {
          try { window.renderRecords(); } catch(_) {}
        }
        window.scrollTo({top:0,behavior:'smooth'});
      };
    });
  </script>
</body>
</html>

